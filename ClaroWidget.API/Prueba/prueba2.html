<!DOCTYPE html>
<html>
<head>
    <script src="../Scripts/knockout-2.2.0.js"></script>
    <script src="../Scripts/jquery-1.8.2.js"></script>
    <style>
  
.producto .price {
    float: right;
    width: 46%;
}
.price-box {
    border-bottom: 1px solid #CDCDCD;
    float: left;
    font-size: 0.8em;
    left: -4px;
    margin-top: 2px;
    min-height: 65px;
    padding-left: 8px;
    padding-top: 0;
    position: relative;
    width: 100%;
}
.foto {
    display: block;
    float: left;
    height: 120px;
    margin: 5px 0;
    width: 100px;
}
.producto .descripcion {
    display: inline-block;
    width: 80%;
}
.description{
    height:200px;
    overflow:hidden;
}
.specs{
    float:right;
    width: 300px;
}
        .equipo {
    width: 400px;
    display: inline-block;
    margin: 10px;
    border: 1px solid rgb(205, 205, 205);
    padding: 0 4px;
    vertical-align: top;
}

    </style>
</head>
<body>
<table>
	<thead>
		<tr>
			<td>Equipo</td>
			<td>EquipoID</td>
			<td>EquipoName</td>
			<td>EquipoCode</td>
			<td>EquipoDescripcion</td>
			<td>PhotoEquipo</td>
			<td>EquipoManufacturer</td>
			<td>PriceEquipo</td>
			<td>InventarioEquipo</td>
			<td>Caracteristicas</td>
		</tr>
	</thead>
	<tbody></tbody>
</table>

  <table>
	<thead>
		<tr data-bind="foreach: plans">
			<th data-bind="text: $data.PlanName"></th>
		</tr>
	</thead>
	<tbody data-bind="foreach: plans">
		
        <tr data-bind="foreach: $data.Caracteristicas">
			<td data-bind="attr: { class: $data.Descripcion }, text: $data.Valor "></td>
		</tr>
	</tbody>
</table>


<script type="text/javascript">

    // This is a simple *viewmodel* - JavaScript that defines the data and behavior of your UI
    function EquiposViewModel() {
        var self = this;
        self.plans = ko.observableArray();

        $.getJSON("http://localhost:29086/api/plans/byequipo/810089", self.plans);

        function thumbnailPhoto(photo) {
            return photo + "&thum=1";
        }

        self.caracteristicasNames = function () {
            var ret = []
            for (var i = 0; i < self.plans.length; i++) {
                for (var j = 0; j < self.plans[c].Caracteristicas.length; j++) {
                    if (ret.indexOf(self.plans[c].Caracteristicas[j].Descripcion) == -1) {
                        ret.push(self.plans[c].Caracteristicas[j].Descripcion);
                    }
                }
            }
            return ret;

        }
    }

    // Activates knockout.js
    $(document).ready(function () {
        ko.applyBindings(new EquiposViewModel());
    });
</script>

</body>

</html>